
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Python Interactive Command Line Shells">
      
      
        <meta name="author" content="Denis Mulyalin">
      
      
        <link rel="canonical" href="https://picle.github.io/api_reference/">
      
      
        <link rel="prev" href="../Getting%20Started/">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>API Reference - PICLE</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="orange" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#picle-apis-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="PICLE" class="md-header__button md-logo" aria-label="PICLE" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            PICLE
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API Reference
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/dmulyalin/picle" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
  </div>
  <div class="md-source__repository">
    dmulyalin/picle
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Overview

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../Getting%20Started/" class="md-tabs__link">
        
  
    
  
  Getting Started

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
    
  
  API Reference

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="PICLE" class="md-nav__button md-logo" aria-label="PICLE" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    PICLE
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/dmulyalin/picle" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
  </div>
  <div class="md-source__repository">
    dmulyalin/picle
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Getting%20Started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#picleconfig" class="md-nav__link">
    <span class="md-ellipsis">
      PicleConfig
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#field-json_schema_extra" class="md-nav__link">
    <span class="md-ellipsis">
      Field json_schema_extra
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Field json_schema_extra">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#field-processors" class="md-nav__link">
    <span class="md-ellipsis">
      Field processors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-line-input" class="md-nav__link">
    <span class="md-ellipsis">
      Multi Line Input
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#result-specific-outputters" class="md-nav__link">
    <span class="md-ellipsis">
      Result Specific Outputters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mounting-models-at-a-runtime" class="md-nav__link">
    <span class="md-ellipsis">
      Mounting Models at a Runtime
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#picle-app" class="md-nav__link">
    <span class="md-ellipsis">
      PICLE App
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PICLE App">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#picle.App" class="md-nav__link">
    <span class="md-ellipsis">
      App
    </span>
  </a>
  
    <nav class="md-nav" aria-label="App">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#picle.App.completedefault" class="md-nav__link">
    <span class="md-ellipsis">
      completedefault
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.completenames" class="md-nav__link">
    <span class="md-ellipsis">
      completenames
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.default" class="md-nav__link">
    <span class="md-ellipsis">
      default
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.do_cls" class="md-nav__link">
    <span class="md-ellipsis">
      do_cls
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.do_end" class="md-nav__link">
    <span class="md-ellipsis">
      do_end
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.do_exit" class="md-nav__link">
    <span class="md-ellipsis">
      do_exit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.do_help" class="md-nav__link">
    <span class="md-ellipsis">
      do_help
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.do_pwd" class="md-nav__link">
    <span class="md-ellipsis">
      do_pwd
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.do_top" class="md-nav__link">
    <span class="md-ellipsis">
      do_top
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.emptyline" class="md-nav__link">
    <span class="md-ellipsis">
      emptyline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.model_mount" class="md-nav__link">
    <span class="md-ellipsis">
      model_mount
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.model_remove" class="md-nav__link">
    <span class="md-ellipsis">
      model_remove
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.parse_command" class="md-nav__link">
    <span class="md-ellipsis">
      parse_command
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.print_model_help" class="md-nav__link">
    <span class="md-ellipsis">
      print_model_help
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.write" class="md-nav__link">
    <span class="md-ellipsis">
      write
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#picle-build-in-models" class="md-nav__link">
    <span class="md-ellipsis">
      PICLE Build In Models
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PICLE Build In Models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#picle.models.Filters" class="md-nav__link">
    <span class="md-ellipsis">
      Filters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Filters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#picle.models.Filters.filter_exclude" class="md-nav__link">
    <span class="md-ellipsis">
      filter_exclude
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.models.Filters.filter_include" class="md-nav__link">
    <span class="md-ellipsis">
      filter_include
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.models.Formatters" class="md-nav__link">
    <span class="md-ellipsis">
      Formatters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Formatters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#picle.models.Formatters.formatter_json" class="md-nav__link">
    <span class="md-ellipsis">
      formatter_json
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.models.Formatters.formatter_kv" class="md-nav__link">
    <span class="md-ellipsis">
      formatter_kv
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.models.Formatters.formatter_pprint" class="md-nav__link">
    <span class="md-ellipsis">
      formatter_pprint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.models.Formatters.formatter_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      formatter_yaml
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.models.Outputters" class="md-nav__link">
    <span class="md-ellipsis">
      Outputters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Outputters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#picle.models.Outputters.outputter_rich_json" class="md-nav__link">
    <span class="md-ellipsis">
      outputter_rich_json
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.models.Outputters.outputter_rich_print" class="md-nav__link">
    <span class="md-ellipsis">
      outputter_rich_print
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.models.Outputters.outputter_rich_table" class="md-nav__link">
    <span class="md-ellipsis">
      outputter_rich_table
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.models.PipeFunctionsModel" class="md-nav__link">
    <span class="md-ellipsis">
      PipeFunctionsModel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.models.MAN" class="md-nav__link">
    <span class="md-ellipsis">
      MAN
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MAN">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#picle.models.MAN.print_model_tree" class="md-nav__link">
    <span class="md-ellipsis">
      print_model_tree
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#picleconfig" class="md-nav__link">
    <span class="md-ellipsis">
      PicleConfig
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#field-json_schema_extra" class="md-nav__link">
    <span class="md-ellipsis">
      Field json_schema_extra
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Field json_schema_extra">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#field-processors" class="md-nav__link">
    <span class="md-ellipsis">
      Field processors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-line-input" class="md-nav__link">
    <span class="md-ellipsis">
      Multi Line Input
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#result-specific-outputters" class="md-nav__link">
    <span class="md-ellipsis">
      Result Specific Outputters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mounting-models-at-a-runtime" class="md-nav__link">
    <span class="md-ellipsis">
      Mounting Models at a Runtime
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#picle-app" class="md-nav__link">
    <span class="md-ellipsis">
      PICLE App
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PICLE App">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#picle.App" class="md-nav__link">
    <span class="md-ellipsis">
      App
    </span>
  </a>
  
    <nav class="md-nav" aria-label="App">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#picle.App.completedefault" class="md-nav__link">
    <span class="md-ellipsis">
      completedefault
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.completenames" class="md-nav__link">
    <span class="md-ellipsis">
      completenames
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.default" class="md-nav__link">
    <span class="md-ellipsis">
      default
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.do_cls" class="md-nav__link">
    <span class="md-ellipsis">
      do_cls
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.do_end" class="md-nav__link">
    <span class="md-ellipsis">
      do_end
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.do_exit" class="md-nav__link">
    <span class="md-ellipsis">
      do_exit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.do_help" class="md-nav__link">
    <span class="md-ellipsis">
      do_help
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.do_pwd" class="md-nav__link">
    <span class="md-ellipsis">
      do_pwd
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.do_top" class="md-nav__link">
    <span class="md-ellipsis">
      do_top
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.emptyline" class="md-nav__link">
    <span class="md-ellipsis">
      emptyline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.model_mount" class="md-nav__link">
    <span class="md-ellipsis">
      model_mount
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.model_remove" class="md-nav__link">
    <span class="md-ellipsis">
      model_remove
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.parse_command" class="md-nav__link">
    <span class="md-ellipsis">
      parse_command
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.print_model_help" class="md-nav__link">
    <span class="md-ellipsis">
      print_model_help
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.App.write" class="md-nav__link">
    <span class="md-ellipsis">
      write
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#picle-build-in-models" class="md-nav__link">
    <span class="md-ellipsis">
      PICLE Build In Models
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PICLE Build In Models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#picle.models.Filters" class="md-nav__link">
    <span class="md-ellipsis">
      Filters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Filters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#picle.models.Filters.filter_exclude" class="md-nav__link">
    <span class="md-ellipsis">
      filter_exclude
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.models.Filters.filter_include" class="md-nav__link">
    <span class="md-ellipsis">
      filter_include
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.models.Formatters" class="md-nav__link">
    <span class="md-ellipsis">
      Formatters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Formatters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#picle.models.Formatters.formatter_json" class="md-nav__link">
    <span class="md-ellipsis">
      formatter_json
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.models.Formatters.formatter_kv" class="md-nav__link">
    <span class="md-ellipsis">
      formatter_kv
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.models.Formatters.formatter_pprint" class="md-nav__link">
    <span class="md-ellipsis">
      formatter_pprint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.models.Formatters.formatter_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      formatter_yaml
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.models.Outputters" class="md-nav__link">
    <span class="md-ellipsis">
      Outputters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Outputters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#picle.models.Outputters.outputter_rich_json" class="md-nav__link">
    <span class="md-ellipsis">
      outputter_rich_json
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.models.Outputters.outputter_rich_print" class="md-nav__link">
    <span class="md-ellipsis">
      outputter_rich_print
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.models.Outputters.outputter_rich_table" class="md-nav__link">
    <span class="md-ellipsis">
      outputter_rich_table
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.models.PipeFunctionsModel" class="md-nav__link">
    <span class="md-ellipsis">
      PipeFunctionsModel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#picle.models.MAN" class="md-nav__link">
    <span class="md-ellipsis">
      MAN
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MAN">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#picle.models.MAN.print_model_tree" class="md-nav__link">
    <span class="md-ellipsis">
      print_model_tree
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="picle-apis-reference">PICLE APIs Reference</h1>
<h2 id="picleconfig">PicleConfig</h2>
<p>Each Pydantic model can have <code>PicleConfig</code> subclass defined
with model configuration parameters:</p>
<ul>
<li><code>ruler</code> - The character used to draw separator lines under the help-message headers. If empty, no ruler line is drawn, defaults is empty</li>
<li><code>intro</code> - A string to issue as an intro or banner</li>
<li><code>prompt</code> - command line shell prompt</li>
<li><code>newline</code> - newline character to use while printing output, default is <code>\r\n</code></li>
<li><code>completekey</code> - is the <code>readline</code> name of a completion key, defaults to <code>tab</code></li>
<li><code>pipe</code> - reference to Pydantic model class to use with <code>|</code> (pipe) to process the
    results with various functions, special value <code>pipe = "self"</code> instruct to use
    current model for piping results through.</li>
<li><code>processors</code> - list of functions to run results of <code>first command</code> through one by one</li>
<li><code>outputter</code> - function to output results, by default results written to stdout</li>
<li><code>outputter_kwargs</code> - dictionary containing any additional argument to use with outputter</li>
</ul>
<p>Sample <code>PicleConfig</code> definition:</p>
<div class="highlight"><pre><span></span><code>from picle.models import PipeFunctionsModel, Formatters, Outputters

class ShellModel(BaseModel):
    &quot;&quot;&quot; define command attributes here &quot;&quot;&quot;
    &lt;...&gt;

    class PicleConfig:
        prompt = &quot;picle#&quot;
        ruler = &quot;&quot;
        intro = &quot;PICLE Sample app&quot;
        newline = &quot;\r\n&quot;
        completekey = &quot;tab&quot;
        pipe = PipeFunctionsModel
        processors = [Formatters.formatter_json]
        outputter = Outputters.outputter_rich_print
        outputter_kwargs = {&quot;any&quot;: &quot;extra_argument&quot;}
</code></pre></div>
<h2 id="field-json_schema_extra">Field json_schema_extra</h2>
<p>PICLE supports reading additional parameters from model Field's <code>json_schema_extra</code>
definition to control PICLE behavior.</p>
<p><code>json_schema_extra</code> PICLE parameters:</p>
<ul>
<li><code>function</code> - refers to <code>@staticmethod</code> of the model to call with command arguments</li>
<li><code>presence</code> - command argument set to <code>presence</code> value if command given</li>
<li><code>processors</code> - list of functions to run results of each command through one by one</li>
<li><code>outputter</code> - function to output results, by default results written to
    stdout. Field's <code>outputter</code> overrides PicleConfig's <code>outputter</code></li>
<li><code>outputter_kwargs</code> - dictionary containing any additional argument to use with outputter</li>
<li><code>multiline</code> - True/False, indicates if multi line input mode is enabled for this field</li>
<li><code>root_model</code> - True/False, if True reference to PICLE App's root model passed on to
    the <code>run</code> method or to the <code>function</code> inside <code>root_model</code> argument</li>
<li><code>picle_app</code> - True/False, if True reference to PICLE App passed on to the <code>run</code>
    method or to the <code>function</code> inside <code>picle_app</code> argument, useful if need to modify
    PICLE App in a runtime, for example mount or remove models</li>
</ul>
<h3 id="field-processors">Field processors</h3>
<p>Processors allow to pass command execution results through a list of arbitrary functions.
Results returned by processor function passed on as input to next processor function in the
list and so on.</p>
<p>In example below results returned by <code>produce_structured_data</code> function passed through
pprint formatter <code>Formatters.formatter_pprint</code> function to produce pretty formatted string.</p>
<div class="highlight"><pre><span></span><code>from picle.models import Formatters

class model_show(BaseModel):
    data_pprint: Callable = Field(
        &quot;produce_structured_data&quot;,
        description=&quot;Show data using pprint formatter&quot;,
        json_schema_extra={
            &quot;processors&quot;: [
                    Formatters.formatter_pprint
                ]
            }
    )

    @staticmethod
    def produce_structured_data():
        return {&quot;some&quot;: {&quot;dictionary&quot;: {&quot;data&quot;: None}}, &quot;more&quot;: {&quot;dictionary&quot;: [&quot;data&quot;]}, &quot;even&quot;: {&quot;more&quot;: {&quot;dictionary&quot;: &quot;data&quot;}}}
</code></pre></div>
<h3 id="multi-line-input">Multi Line Input</h3>
<p>Multi line input allows to read multiple lines of text into field value if
json_schema_extra <code>multiline</code> argument is set to <code>True</code>. To use it need
to specify <code>input</code> as a field value on the command line, that will trigger
multi line input collection when hit return:</p>
<p>Sample model that has multi line input enabled:</p>
<div class="highlight"><pre><span></span><code>class model_TestMultilineInput(BaseModel):
    data: StrictStr = Field(
        None,
        description=&quot;Multi line string&quot;,
        json_schema_extra={&quot;multiline&quot;: True}
    )
    arg: Any = Field(None, description=&quot;Some field&quot;)

    @staticmethod
    def run(**kwargs):
        return kwargs
</code></pre></div>
<p>This is how help will look like for <code>data</code> field:</p>
<div class="highlight"><pre><span></span><code>picle#test_multiline_input data ?
 &lt;&#39;data&#39; value&gt;    Multi line string
 input             Collect value using multi line input mode
picle#
</code></pre></div>
<p>Tab completion for <code>input</code> value also works. On hitting <code>enter</code>,
multi line input mode will be invoked:</p>
<div class="highlight"><pre><span></span><code>picle#test_multiline_input data input arg foo
Enter lines and hit Ctrl+D to finish multi line input
I&#39;am
Multi Line
Input
&lt;ctrl+D hit&gt;
</code></pre></div>
<h2 id="result-specific-outputters">Result Specific Outputters</h2>
<p>Sometimes having outputter defined per model is not enough and depending on produced
result different outputter need to be used, in that case result specific outputter can
be provided in return to <code>run</code> function call by returning a tuple of
<code>(result, outputter function, outputter kwargs,)</code>, where <code>outputter kwargs</code> is
optional.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code>from picle.models import Outputters

class model_ResultSpecificOutputter(BaseModel):
    data: StrictStr = Field(None, description=&quot;Multi line string&quot;)
    arg: Any = Field(None, description=&quot;Some field&quot;)

    class PicleConfig:
        outputter = Outputters.outputter_rich_print
        outputter_kwargs = {&quot;any&quot;: &quot;extra_argument&quot;}

    @staticmethod
    def run(**kwargs):
        if kwargs.get(&quot;args&quot;) == &quot;json&quot;:
            return kwargs[&quot;data&quot;], Outputters.outputter_rich_json, {}
        elif kwargs.get(&quot;args&quot;) == &quot;table&quot;:
            return kwargs[&quot;data&quot;], Outputters.outputter_rich_table
        else:
            return kwargs
</code></pre></div>
<p>In addition to <code>PicleConfig</code> outputter, depending on arguments provided  <code>run</code>
function returns outputter function to use to output the result with optional
<code>outputter_kwargs</code> as a third argument. By default, if return result is not a tuple,
outputter specified in <code>PicleConfig</code> is used.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Result specific outputters supported starting with PICLE version 0.7.0</p>
</div>
<h2 id="mounting-models-at-a-runtime">Mounting Models at a Runtime</h2>
<p>Sometimes it is needed to dynamically add new shell commands to the app,
for that PICLE <code>App</code> has <code>model_mount</code> and <code>model_remove</code> methods.</p>
<p>Example how to mount Pydantic model to PICLE App at given path in a runtime.</p>
<div class="highlight"><pre><span></span><code>from picle import App
from pydantic import BaseModel, StrictStr

class my_mount_model(BaseModel):
    param: StrictStr = Field(None, description=&quot;Param string&quot;)

    @staticmethod
    def run(**kwargs):
        return kwargs

# create PICLE Root model
class Root(BaseModel):
    command: StrictStr = Field(None, description=&quot;Some command string&quot;)

# instantiate PICLE App shell
shell = App(Root)

# mount model
shell.model_mount(my_mount_model, [&quot;another_command&quot;])

# remove model
shell.model_remove([&quot;another_command&quot;])

shell.close()
</code></pre></div>
<h2 id="picle-app">PICLE App</h2>


<div class="doc doc-object doc-class">



<h3 id="picle.App" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">App</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">stdin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="cmd.Cmd">Cmd</span></code></p>


        <p>PICLE App class to construct shell.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>root</code></b>
          â€“
          <div class="doc-md-description">
            <p>Root/Top Pydantic model</p>
          </div>
        </li>
    </ul>






                  <details class="quote">
                    <summary>Source code in <code>picle\picle.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">stdin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">root</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">shell</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">model_construct</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">shell_defaults</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">shells</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="p">]</span>

    <span class="c1"># extract configuration from shell model</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="p">,</span> <span class="s2">&quot;PicleConfig&quot;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ruler</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="o">.</span><span class="n">PicleConfig</span><span class="p">,</span> <span class="s2">&quot;ruler&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ruler</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">intro</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="o">.</span><span class="n">PicleConfig</span><span class="p">,</span> <span class="s2">&quot;intro&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">intro</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prompt</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="o">.</span><span class="n">PicleConfig</span><span class="p">,</span> <span class="s2">&quot;prompt&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">prompt</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">newline</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="o">.</span><span class="n">PicleConfig</span><span class="p">,</span> <span class="s2">&quot;newline&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">newline</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">completekey</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="o">.</span><span class="n">PicleConfig</span><span class="p">,</span> <span class="s2">&quot;completekey&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">completekey</span>
        <span class="p">)</span>

    <span class="c1"># mount override methods</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="o">.</span><span class="n">PicleConfig</span><span class="p">,</span> <span class="s2">&quot;methods_override&quot;</span><span class="p">):</span>
        <span class="k">for</span> <span class="p">(</span>
            <span class="n">method_name</span><span class="p">,</span>
            <span class="n">override</span><span class="p">,</span>
        <span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="o">.</span><span class="n">PicleConfig</span><span class="o">.</span><span class="n">methods_override</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method_name</span><span class="p">,</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="p">,</span> <span class="n">override</span><span class="p">))</span>

    <span class="c1"># mount models</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">model_mount</span><span class="p">(</span><span class="n">MAN</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;man&quot;</span><span class="p">],</span> <span class="s2">&quot;Manual/documentation functions&quot;</span><span class="p">)</span>

    <span class="nb">super</span><span class="p">(</span><span class="n">App</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">stdin</span><span class="o">=</span><span class="n">stdin</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">stdout</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="picle.App.completedefault" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">App</span><span class="o">.</span><span class="n">completedefault</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">begidx</span><span class="p">,</span> <span class="n">endidx</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>This method called for every  command parameter on
complete key hit except for the very first one.</p>

            <details class="quote">
              <summary>Source code in <code>picle\picle.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">completedefault</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">begidx</span><span class="p">,</span> <span class="n">endidx</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This method called for every  command parameter on</span>
<span class="sd">    complete key hit except for the very first one.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fieldnames</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">command_models</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_command</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">is_help</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">last_model</span> <span class="o">=</span> <span class="n">command_models</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s2">&quot;model&quot;</span><span class="p">]</span>
        <span class="c1"># check if last model has fields collected</span>
        <span class="k">if</span> <span class="n">command_models</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s2">&quot;fields&quot;</span><span class="p">]:</span>
            <span class="n">last_field_name</span> <span class="o">=</span> <span class="n">command_models</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s2">&quot;fields&quot;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
            <span class="n">last_field</span> <span class="o">=</span> <span class="n">last_model</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span><span class="n">last_field_name</span><span class="p">]</span>
            <span class="n">last_field_value</span> <span class="o">=</span> <span class="n">command_models</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s2">&quot;fields&quot;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s2">&quot;values&quot;</span><span class="p">]</span>
            <span class="n">fparam</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_field_params</span><span class="p">(</span><span class="n">last_field</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">last_field_value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                <span class="n">last_field_value</span> <span class="o">=</span> <span class="n">last_field_value</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">last_field_value</span> <span class="o">==</span> <span class="o">...</span><span class="p">:</span>
                <span class="n">last_field_value</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="c1"># check if need to extract enum values</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">last_field</span><span class="o">.</span><span class="n">annotation</span><span class="p">,</span> <span class="n">enum</span><span class="o">.</span><span class="n">EnumMeta</span><span class="p">):</span>
                <span class="n">fieldnames</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">i</span><span class="o">.</span><span class="n">value</span>
                    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">last_field</span><span class="o">.</span><span class="n">annotation</span>
                    <span class="k">if</span> <span class="n">i</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">last_field_value</span><span class="p">)</span>
                <span class="p">]</span>
            <span class="c1"># check if model has method to source field choices</span>
            <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">last_model</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;source_</span><span class="si">{</span><span class="n">last_field_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
                <span class="n">fieldnames</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">last_model</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;source_</span><span class="si">{</span><span class="n">last_field_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)()</span>
                <span class="n">fieldnames</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">fieldnames</span> <span class="k">if</span> <span class="n">i</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">last_field_value</span><span class="p">)</span>
                <span class="p">]</span>
            <span class="c1"># auto complete &#39;input&#39; for multi-line input mode</span>
            <span class="k">elif</span> <span class="n">fparam</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;multiline&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="s2">&quot;input&quot;</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">last_field_value</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="n">last_field_value</span> <span class="o">!=</span> <span class="s2">&quot;input&quot;</span>
                <span class="p">):</span>
                    <span class="n">fieldnames</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">]</span>
        <span class="c1"># return a list of all model fields</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">last_model</span><span class="o">.</span><span class="n">model_fields</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">alias</span><span class="p">:</span>
                    <span class="n">fieldnames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">alias</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">fieldnames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">FieldLooseMatchOnly</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">model</span><span class="p">,</span> <span class="n">parameter</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">model_fields</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># skip fields with already collected values from complete prompt</span>
            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span>
                <span class="n">collected_field</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">name</span>
                <span class="k">for</span> <span class="n">collected_field</span> <span class="ow">in</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;fields&quot;</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">collected_field</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="o">...</span>
            <span class="p">):</span>
                <span class="k">continue</span>
            <span class="k">elif</span> <span class="n">f</span><span class="o">.</span><span class="n">alias</span> <span class="ow">and</span> <span class="n">f</span><span class="o">.</span><span class="n">alias</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">parameter</span><span class="p">):</span>
                <span class="n">fieldnames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">alias</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">parameter</span><span class="p">):</span>
                <span class="n">fieldnames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">FieldKeyError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">tb</span> <span class="o">=</span> <span class="n">traceback</span><span class="o">.</span><span class="n">format_exc</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">tb</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">fieldnames</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="picle.App.completenames" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">App</span><span class="o">.</span><span class="n">completenames</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">begidx</span><span class="p">,</span> <span class="n">endidx</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>This method only called for the very first command parameter on
complete key hit.</p>

            <details class="quote">
              <summary>Source code in <code>picle\picle.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">completenames</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">begidx</span><span class="p">,</span> <span class="n">endidx</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This method only called for the very first command parameter on</span>
<span class="sd">    complete key hit.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fieldnames</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># collect global methods</span>
    <span class="k">for</span> <span class="n">method_name</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">method_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;do_&quot;</span><span class="p">):</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">method_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;do_&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
                <span class="n">fieldnames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="c1"># collect model arguments</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">command_models</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_command</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">is_help</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">fieldnames</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">command_models</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">model_fields</span><span class="p">)</span>
    <span class="c1"># collect arguments that startswith last parameter</span>
    <span class="k">except</span> <span class="n">FieldLooseMatchOnly</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">model</span><span class="p">,</span> <span class="n">parameter</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">model_fields</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">alias</span> <span class="ow">and</span> <span class="n">f</span><span class="o">.</span><span class="n">alias</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">parameter</span><span class="p">):</span>
                <span class="n">fieldnames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">alias</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">parameter</span><span class="p">):</span>
                <span class="n">fieldnames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="c1"># raised if no model fields matched last parameter</span>
    <span class="k">except</span> <span class="n">FieldKeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No model fields matched last parameter - </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">pass</span>
    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">fieldnames</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="picle.App.default" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">App</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Method called if no do_xyz methods found</p>

            <details class="quote">
              <summary>Source code in <code>picle\picle.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 774</span>
<span class="normal"> 775</span>
<span class="normal"> 776</span>
<span class="normal"> 777</span>
<span class="normal"> 778</span>
<span class="normal"> 779</span>
<span class="normal"> 780</span>
<span class="normal"> 781</span>
<span class="normal"> 782</span>
<span class="normal"> 783</span>
<span class="normal"> 784</span>
<span class="normal"> 785</span>
<span class="normal"> 786</span>
<span class="normal"> 787</span>
<span class="normal"> 788</span>
<span class="normal"> 789</span>
<span class="normal"> 790</span>
<span class="normal"> 791</span>
<span class="normal"> 792</span>
<span class="normal"> 793</span>
<span class="normal"> 794</span>
<span class="normal"> 795</span>
<span class="normal"> 796</span>
<span class="normal"> 797</span>
<span class="normal"> 798</span>
<span class="normal"> 799</span>
<span class="normal"> 800</span>
<span class="normal"> 801</span>
<span class="normal"> 802</span>
<span class="normal"> 803</span>
<span class="normal"> 804</span>
<span class="normal"> 805</span>
<span class="normal"> 806</span>
<span class="normal"> 807</span>
<span class="normal"> 808</span>
<span class="normal"> 809</span>
<span class="normal"> 810</span>
<span class="normal"> 811</span>
<span class="normal"> 812</span>
<span class="normal"> 813</span>
<span class="normal"> 814</span>
<span class="normal"> 815</span>
<span class="normal"> 816</span>
<span class="normal"> 817</span>
<span class="normal"> 818</span>
<span class="normal"> 819</span>
<span class="normal"> 820</span>
<span class="normal"> 821</span>
<span class="normal"> 822</span>
<span class="normal"> 823</span>
<span class="normal"> 824</span>
<span class="normal"> 825</span>
<span class="normal"> 826</span>
<span class="normal"> 827</span>
<span class="normal"> 828</span>
<span class="normal"> 829</span>
<span class="normal"> 830</span>
<span class="normal"> 831</span>
<span class="normal"> 832</span>
<span class="normal"> 833</span>
<span class="normal"> 834</span>
<span class="normal"> 835</span>
<span class="normal"> 836</span>
<span class="normal"> 837</span>
<span class="normal"> 838</span>
<span class="normal"> 839</span>
<span class="normal"> 840</span>
<span class="normal"> 841</span>
<span class="normal"> 842</span>
<span class="normal"> 843</span>
<span class="normal"> 844</span>
<span class="normal"> 845</span>
<span class="normal"> 846</span>
<span class="normal"> 847</span>
<span class="normal"> 848</span>
<span class="normal"> 849</span>
<span class="normal"> 850</span>
<span class="normal"> 851</span>
<span class="normal"> 852</span>
<span class="normal"> 853</span>
<span class="normal"> 854</span>
<span class="normal"> 855</span>
<span class="normal"> 856</span>
<span class="normal"> 857</span>
<span class="normal"> 858</span>
<span class="normal"> 859</span>
<span class="normal"> 860</span>
<span class="normal"> 861</span>
<span class="normal"> 862</span>
<span class="normal"> 863</span>
<span class="normal"> 864</span>
<span class="normal"> 865</span>
<span class="normal"> 866</span>
<span class="normal"> 867</span>
<span class="normal"> 868</span>
<span class="normal"> 869</span>
<span class="normal"> 870</span>
<span class="normal"> 871</span>
<span class="normal"> 872</span>
<span class="normal"> 873</span>
<span class="normal"> 874</span>
<span class="normal"> 875</span>
<span class="normal"> 876</span>
<span class="normal"> 877</span>
<span class="normal"> 878</span>
<span class="normal"> 879</span>
<span class="normal"> 880</span>
<span class="normal"> 881</span>
<span class="normal"> 882</span>
<span class="normal"> 883</span>
<span class="normal"> 884</span>
<span class="normal"> 885</span>
<span class="normal"> 886</span>
<span class="normal"> 887</span>
<span class="normal"> 888</span>
<span class="normal"> 889</span>
<span class="normal"> 890</span>
<span class="normal"> 891</span>
<span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@run_print_exception</span>
<span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Method called if no do_xyz methods found&quot;&quot;&quot;</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">outputter</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;?&quot;</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">command_models</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_command</span><span class="p">(</span>
                <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;?&quot;</span><span class="p">),</span> <span class="n">is_help</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">FieldLooseMatchOnly</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">model</span><span class="p">,</span> <span class="n">parameter</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">print_model_help</span><span class="p">(</span>
                <span class="p">[[</span><span class="n">model</span><span class="p">]],</span>
                <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span> <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;??&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="kc">False</span><span class="p">,</span>
                <span class="n">match</span><span class="o">=</span><span class="n">parameter</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">FieldKeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">model</span><span class="p">,</span> <span class="n">parameter</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span>
            <span class="n">model_name</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="vm">__name__</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">],</span> <span class="s2">&quot;__name__&quot;</span><span class="p">)</span>
                <span class="k">else</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">__repr_name__</span><span class="p">()</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Incorrect command, &#39;</span><span class="si">{</span><span class="n">parameter</span><span class="si">}</span><span class="s2">&#39; not part of &#39;</span><span class="si">{</span><span class="n">model_name</span><span class="si">}</span><span class="s2">&#39; model fields&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">print_model_help</span><span class="p">(</span>
                <span class="n">command_models</span><span class="p">,</span>
                <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span> <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;??&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="kc">False</span><span class="p">,</span>
            <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">command_models</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_command</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">collect_multiline</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">FieldLooseMatchOnly</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">model</span><span class="p">,</span> <span class="n">parameter</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span>
            <span class="c1"># filter fields to return message for</span>
            <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">f</span><span class="o">.</span><span class="n">alias</span> <span class="ow">or</span> <span class="n">name</span>
                <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">model_fields</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span>
            <span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Incomplete command, possible completions: &quot;</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">fields</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">FieldKeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">model</span><span class="p">,</span> <span class="n">parameter</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span>
            <span class="n">model_name</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="vm">__name__</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">],</span> <span class="s2">&quot;__name__&quot;</span><span class="p">)</span>
                <span class="k">else</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">__repr_name__</span><span class="p">()</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Incorrect command, &#39;</span><span class="si">{</span><span class="n">parameter</span><span class="si">}</span><span class="s2">&#39; not part of &#39;</span><span class="si">{</span><span class="n">model_name</span><span class="si">}</span><span class="s2">&#39; model fields&quot;</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># go over collected commands separated by pipe</span>
            <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">command</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">command_models</span><span class="p">):</span>
                <span class="c1"># collect arguments</span>
                <span class="n">command_arguments</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="n">f</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]:</span> <span class="n">f</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">]</span>
                    <span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">command</span>
                    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;fields&quot;</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">f</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="o">...</span>
                <span class="p">}</span>
                <span class="c1"># collect command defaults</span>
                <span class="n">command_defaults</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">command</span><span class="p">:</span>
                    <span class="n">command_defaults</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;defaults&quot;</span><span class="p">,</span> <span class="p">{}))</span>
                <span class="n">model</span> <span class="o">=</span> <span class="n">command</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s2">&quot;model&quot;</span><span class="p">]</span>
                <span class="c1"># check if model has subshell</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="ow">not</span> <span class="n">command_arguments</span>
                    <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;PicleConfig&quot;</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">PicleConfig</span><span class="p">,</span> <span class="s2">&quot;subshell&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">True</span>
                <span class="p">):</span>
                    <span class="c1"># collect parent shells and defaults</span>
                    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">command</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
                        <span class="n">m</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">defaults_update</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>  <span class="c1"># store shell defaults</span>
                        <span class="k">if</span> <span class="p">(</span>
                            <span class="nb">hasattr</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="s2">&quot;PicleConfig&quot;</span><span class="p">)</span>
                            <span class="ow">and</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">PicleConfig</span><span class="p">,</span> <span class="s2">&quot;subshell&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">True</span>
                        <span class="p">):</span>
                            <span class="k">if</span> <span class="n">m</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">shells</span><span class="p">:</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">shells</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
                    <span class="c1"># update prompt value</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">prompt</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">PicleConfig</span><span class="p">,</span> <span class="s2">&quot;prompt&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">prompt</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">shell</span> <span class="o">=</span> <span class="n">model</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">shells</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="p">)</span>
                <span class="c1"># run model &quot;run&quot; function if it exits</span>
                <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;run&quot;</span><span class="p">):</span>
                    <span class="c1"># validate command argument values</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_validate_values</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
                    <span class="c1"># call first command using collected arguments only</span>
                    <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">kw</span> <span class="o">=</span> <span class="p">{</span>
                            <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">shell_defaults</span><span class="p">,</span>
                            <span class="o">**</span><span class="n">command_defaults</span><span class="p">,</span>
                            <span class="o">**</span><span class="n">command_arguments</span><span class="p">,</span>
                        <span class="p">}</span>
                        <span class="n">ret</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="o">**</span><span class="n">kw</span><span class="p">)</span>
                    <span class="c1"># pipe results through subsequent commands</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">kw</span> <span class="o">=</span> <span class="p">{</span>
                            <span class="o">**</span><span class="n">command_defaults</span><span class="p">,</span>
                            <span class="o">**</span><span class="n">command_arguments</span><span class="p">,</span>
                        <span class="p">}</span>
                        <span class="n">ret</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">ret</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
                    <span class="c1"># run processors from PicleConfig if any for first command only</span>
                    <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;PicleConfig&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span>
                            <span class="n">model</span><span class="o">.</span><span class="n">PicleConfig</span><span class="p">,</span> <span class="s2">&quot;processors&quot;</span>
                        <span class="p">):</span>
                            <span class="k">for</span> <span class="n">processor</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">PicleConfig</span><span class="o">.</span><span class="n">processors</span><span class="p">:</span>
                                <span class="k">if</span> <span class="nb">callable</span><span class="p">(</span><span class="n">processor</span><span class="p">):</span>
                                    <span class="n">ret</span> <span class="o">=</span> <span class="n">processor</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>
                    <span class="c1"># extract outputter from PicleConfig</span>
                    <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="c1"># check if outputter returned together with results</span>
                        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ret</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                                <span class="n">ret</span><span class="p">,</span> <span class="n">outputter</span> <span class="o">=</span> <span class="n">ret</span>
                                <span class="n">outputter_kwargs</span> <span class="o">=</span> <span class="p">{}</span>
                            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
                                <span class="n">ret</span><span class="p">,</span> <span class="n">outputter</span><span class="p">,</span> <span class="n">outputter_kwargs</span> <span class="o">=</span> <span class="n">ret</span>
                        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;PicleConfig&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span>
                            <span class="n">model</span><span class="o">.</span><span class="n">PicleConfig</span><span class="p">,</span> <span class="s2">&quot;outputter&quot;</span>
                        <span class="p">):</span>
                            <span class="n">outputter</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">PicleConfig</span><span class="o">.</span><span class="n">outputter</span>
                            <span class="n">outputter_kwargs</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span>
                                <span class="n">model</span><span class="o">.</span><span class="n">PicleConfig</span><span class="p">,</span> <span class="s2">&quot;outputter_kwargs&quot;</span><span class="p">,</span> <span class="p">{}</span>
                            <span class="p">)</span>
                <span class="c1"># run command using Callable or json_schema_extra[&quot;function&quot;]</span>
                <span class="k">elif</span> <span class="n">command</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s2">&quot;fields&quot;</span><span class="p">]:</span>
                    <span class="c1"># validate command argument values</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_validate_values</span><span class="p">(</span><span class="n">command</span><span class="p">)</span>
                    <span class="c1"># extract last field</span>
                    <span class="n">last_field_name</span> <span class="o">=</span> <span class="n">command</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s2">&quot;fields&quot;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
                    <span class="n">last_field</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span><span class="n">last_field_name</span><span class="p">]</span>
                    <span class="n">json_schema_extra</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="nb">getattr</span><span class="p">(</span><span class="n">last_field</span><span class="p">,</span> <span class="s2">&quot;json_schema_extra&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>
                    <span class="p">)</span>
                    <span class="c1"># check if last field refers to callable e.g. function</span>
                    <span class="k">if</span> <span class="n">last_field</span><span class="o">.</span><span class="n">annotation</span> <span class="ow">is</span> <span class="n">Callable</span><span class="p">:</span>
                        <span class="n">method_name</span> <span class="o">=</span> <span class="n">last_field</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
                        <span class="k">if</span> <span class="n">method_name</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">method_name</span><span class="p">):</span>
                            <span class="c1"># call first command using collected arguments only</span>
                            <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                                <span class="n">kw</span> <span class="o">=</span> <span class="p">{</span>
                                    <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">shell_defaults</span><span class="p">,</span>
                                    <span class="o">**</span><span class="n">command_defaults</span><span class="p">,</span>
                                    <span class="o">**</span><span class="n">command_arguments</span><span class="p">,</span>
                                <span class="p">}</span>
                                <span class="c1"># check if need to give root model as an argument</span>
                                <span class="k">if</span> <span class="n">json_schema_extra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;root_model&quot;</span><span class="p">):</span>
                                    <span class="n">kw</span><span class="p">[</span><span class="s2">&quot;root_model&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span>
                                <span class="c1"># check if need to give PICLE App as an argument</span>
                                <span class="k">if</span> <span class="n">json_schema_extra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;picle_app&quot;</span><span class="p">):</span>
                                    <span class="n">kw</span><span class="p">[</span><span class="s2">&quot;picle_app&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span>
                                <span class="n">ret</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">method_name</span><span class="p">)(</span><span class="o">**</span><span class="n">kw</span><span class="p">)</span>
                            <span class="c1"># pipe results through subsequent commands</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">kw</span> <span class="o">=</span> <span class="p">{</span>
                                    <span class="o">**</span><span class="n">command_defaults</span><span class="p">,</span>
                                    <span class="o">**</span><span class="n">command_arguments</span><span class="p">,</span>
                                <span class="p">}</span>
                                <span class="n">ret</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">method_name</span><span class="p">)(</span><span class="n">ret</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                                <span class="sa">f</span><span class="s2">&quot;Model &#39;</span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; has no &#39;</span><span class="si">{</span><span class="n">method_name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                                <span class="sa">f</span><span class="s2">&quot;method defined for &#39;</span><span class="si">{</span><span class="n">last_field_name</span><span class="si">}</span><span class="s2">&#39; Callable field&quot;</span>
                            <span class="p">)</span>
                    <span class="c1"># check if last field has `function` parameter defined</span>
                    <span class="k">elif</span> <span class="n">json_schema_extra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;function&quot;</span><span class="p">):</span>
                        <span class="n">method_name</span> <span class="o">=</span> <span class="n">json_schema_extra</span><span class="p">[</span><span class="s2">&quot;function&quot;</span><span class="p">]</span>
                        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">method_name</span><span class="p">):</span>
                            <span class="c1"># call first command using collected arguments only</span>
                            <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                                <span class="n">kw</span> <span class="o">=</span> <span class="p">{</span>
                                    <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">shell_defaults</span><span class="p">,</span>
                                    <span class="o">**</span><span class="n">command_defaults</span><span class="p">,</span>
                                    <span class="o">**</span><span class="n">command_arguments</span><span class="p">,</span>
                                <span class="p">}</span>
                                <span class="c1"># check if need to give root model as an argument</span>
                                <span class="k">if</span> <span class="n">json_schema_extra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;root_model&quot;</span><span class="p">):</span>
                                    <span class="n">kw</span><span class="p">[</span><span class="s2">&quot;root_model&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span>
                                <span class="c1"># check if need to give PICLE App as an argument</span>
                                <span class="k">if</span> <span class="n">json_schema_extra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;picle_app&quot;</span><span class="p">):</span>
                                    <span class="n">kw</span><span class="p">[</span><span class="s2">&quot;picle_app&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span>
                                <span class="n">ret</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">method_name</span><span class="p">)(</span><span class="o">**</span><span class="n">kw</span><span class="p">)</span>
                            <span class="c1"># pipe results through subsequent commands</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">kw</span> <span class="o">=</span> <span class="p">{</span>
                                    <span class="o">**</span><span class="n">command_defaults</span><span class="p">,</span>
                                    <span class="o">**</span><span class="n">command_arguments</span><span class="p">,</span>
                                <span class="p">}</span>
                                <span class="n">ret</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">method_name</span><span class="p">)(</span><span class="n">ret</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                                <span class="sa">f</span><span class="s2">&quot;Model &#39;</span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; has no &#39;</span><span class="si">{</span><span class="n">method_name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                                <span class="sa">f</span><span class="s2">&quot;method defined for &#39;</span><span class="si">{</span><span class="n">last_field_name</span><span class="si">}</span><span class="s2">&#39; function&quot;</span>
                            <span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;Model &#39;</span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; has no &#39;run&#39; method defined&quot;</span>
                        <span class="p">)</span>
                    <span class="c1"># use processors from Field definition if any</span>
                    <span class="k">if</span> <span class="n">json_schema_extra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;processors&quot;</span><span class="p">):</span>
                        <span class="k">for</span> <span class="n">processor</span> <span class="ow">in</span> <span class="n">json_schema_extra</span><span class="p">[</span><span class="s2">&quot;processors&quot;</span><span class="p">]:</span>
                            <span class="k">if</span> <span class="nb">callable</span><span class="p">(</span><span class="n">processor</span><span class="p">):</span>
                                <span class="n">ret</span> <span class="o">=</span> <span class="n">processor</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>
                    <span class="c1"># run processors from PicleConfig if any for first command only</span>
                    <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;PicleConfig&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span>
                            <span class="n">model</span><span class="o">.</span><span class="n">PicleConfig</span><span class="p">,</span> <span class="s2">&quot;processors&quot;</span>
                        <span class="p">):</span>
                            <span class="k">for</span> <span class="n">processor</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">PicleConfig</span><span class="o">.</span><span class="n">processors</span><span class="p">:</span>
                                <span class="k">if</span> <span class="nb">callable</span><span class="p">(</span><span class="n">processor</span><span class="p">):</span>
                                    <span class="n">ret</span> <span class="o">=</span> <span class="n">processor</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>
                    <span class="c1"># extract outputter from first command</span>
                    <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="c1"># check if outputter returned together with results</span>
                        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ret</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                                <span class="n">ret</span><span class="p">,</span> <span class="n">outputter</span> <span class="o">=</span> <span class="n">ret</span>
                                <span class="n">outputter_kwargs</span> <span class="o">=</span> <span class="p">{}</span>
                            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
                                <span class="n">ret</span><span class="p">,</span> <span class="n">outputter</span><span class="p">,</span> <span class="n">outputter_kwargs</span> <span class="o">=</span> <span class="n">ret</span>
                        <span class="c1"># use outputter from Field definition</span>
                        <span class="k">elif</span> <span class="n">json_schema_extra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;outputter&quot;</span><span class="p">):</span>
                            <span class="n">outputter</span> <span class="o">=</span> <span class="n">json_schema_extra</span><span class="p">[</span><span class="s2">&quot;outputter&quot;</span><span class="p">]</span>
                            <span class="n">outputter_kwargs</span> <span class="o">=</span> <span class="n">json_schema_extra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                                <span class="s2">&quot;outputter_kwargs&quot;</span><span class="p">,</span> <span class="p">{}</span>
                            <span class="p">)</span>
                        <span class="c1"># use PicleConfig outputter</span>
                        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;PicleConfig&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span>
                            <span class="n">model</span><span class="o">.</span><span class="n">PicleConfig</span><span class="p">,</span> <span class="s2">&quot;outputter&quot;</span>
                        <span class="p">):</span>
                            <span class="n">outputter</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">PicleConfig</span><span class="o">.</span><span class="n">outputter</span>
                            <span class="n">outputter_kwargs</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span>
                                <span class="n">model</span><span class="o">.</span><span class="n">PicleConfig</span><span class="p">,</span> <span class="s2">&quot;outputter_kwargs&quot;</span><span class="p">,</span> <span class="p">{}</span>
                            <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">defaults_pop</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
                    <span class="n">ret</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Incorrect command, provide more arguments for &#39;</span><span class="si">{</span><span class="n">model</span><span class="si">}</span><span class="s2">&#39; model&quot;</span>
                    <span class="k">break</span>

    <span class="c1"># returning True will end the shell - exit</span>
    <span class="k">if</span> <span class="n">ret</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">if</span> <span class="n">ret</span><span class="p">:</span>
        <span class="c1"># use specified outputter to output results</span>
        <span class="k">if</span> <span class="nb">callable</span><span class="p">(</span><span class="n">outputter</span><span class="p">):</span>
            <span class="n">outputter</span><span class="p">(</span><span class="n">ret</span><span class="p">,</span> <span class="o">**</span><span class="n">outputter_kwargs</span><span class="p">)</span>
        <span class="c1"># write to stdout by default</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="picle.App.do_cls" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">App</span><span class="o">.</span><span class="n">do_cls</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Clear shell Screen</p>

            <details class="quote">
              <summary>Source code in <code>picle\picle.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">do_cls</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Clear shell Screen&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;?&quot;</span> <span class="ow">in</span> <span class="n">arg</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot; cls    Clear shell Screen&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="s2">&quot;LINUX&quot;</span> <span class="ow">in</span> <span class="n">platform</span><span class="o">.</span><span class="n">system</span><span class="p">()</span><span class="o">.</span><span class="n">upper</span><span class="p">():</span>
            <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;clear&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="s2">&quot;WINDOWS&quot;</span> <span class="ow">in</span> <span class="n">platform</span><span class="o">.</span><span class="n">system</span><span class="p">()</span><span class="o">.</span><span class="n">upper</span><span class="p">():</span>
            <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s2">&quot;cls&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="picle.App.do_end" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">App</span><span class="o">.</span><span class="n">do_end</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Exit application</p>

            <details class="quote">
              <summary>Source code in <code>picle\picle.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">do_end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Exit application&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;?&quot;</span> <span class="ow">in</span> <span class="n">arg</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot; end    Exit application&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="picle.App.do_exit" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">App</span><span class="o">.</span><span class="n">do_exit</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Exit current shell</p>

            <details class="quote">
              <summary>Source code in <code>picle\picle.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">do_exit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Exit current shell&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;?&quot;</span> <span class="ow">in</span> <span class="n">arg</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot; exit    Exit current shell&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># delete defaults for closing shell</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">defaults_pop</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shells</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shells</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">shells</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">shell</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shells</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prompt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="o">.</span><span class="n">PicleConfig</span><span class="o">.</span><span class="n">prompt</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shells</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># check if reached top shell</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">defaults_set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="picle.App.do_help" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">App</span><span class="o">.</span><span class="n">do_help</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Print help message</p>

            <details class="quote">
              <summary>Source code in <code>picle\picle.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">do_help</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Print help message&quot;&quot;&quot;</span>
    <span class="n">command_models</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_command</span><span class="p">(</span><span class="n">arg</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;?&quot;</span><span class="p">),</span> <span class="n">is_help</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">help_msg</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">print_model_help</span><span class="p">(</span>
        <span class="n">command_models</span><span class="p">,</span>
        <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span> <span class="k">if</span> <span class="n">arg</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;?&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">print_help</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="c1"># print help for global top commands</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">arg</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># dict of {cmd: cmd_help}</span>
        <span class="k">for</span> <span class="n">method_name</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">method_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;do_&quot;</span><span class="p">):</span>
                <span class="n">name</span> <span class="o">=</span> <span class="n">method_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;do_&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                <span class="n">lines</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method_name</span><span class="p">)</span><span class="o">.</span><span class="vm">__doc__</span>
                <span class="n">width</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
        <span class="c1"># form help lines</span>
        <span class="k">if</span> <span class="n">lines</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">lines</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">padding</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="p">(</span><span class="n">width</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">k</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="mi">4</span><span class="p">)</span>
                <span class="n">help_msg</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">k</span><span class="si">}{</span><span class="n">padding</span><span class="si">}{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="c1"># print help message</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">newline</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">help_msg</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="picle.App.do_pwd" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">App</span><span class="o">.</span><span class="n">do_pwd</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Print current shell path</p>

            <details class="quote">
              <summary>Source code in <code>picle\picle.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">do_pwd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Print current shell path&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;?&quot;</span> <span class="ow">in</span> <span class="n">arg</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot; pwd    Print current shell path&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">path</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Root&quot;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">shell</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">shells</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">shell</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;-&gt;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="picle.App.do_top" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">App</span><span class="o">.</span><span class="n">do_top</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Exit to top shell</p>

            <details class="quote">
              <summary>Source code in <code>picle\picle.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">do_top</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Exit to top shell&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;?&quot;</span> <span class="ow">in</span> <span class="n">arg</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot; top    Exit to top shell&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shell</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shells</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prompt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="o">.</span><span class="n">PicleConfig</span><span class="o">.</span><span class="n">prompt</span>
        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">shells</span><span class="p">:</span>
            <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shells</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shells</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="p">)</span>
        <span class="c1"># set shell defaults</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">defaults_set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="picle.App.emptyline" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">App</span><span class="o">.</span><span class="n">emptyline</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Override empty line method to not run last command</p>

            <details class="quote">
              <summary>Source code in <code>picle\picle.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">emptyline</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Override empty line method to not run last command&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="picle.App.model_mount" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">App</span><span class="o">.</span><span class="n">model_mount</span><span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="n">ModelMetaclass</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Method to mount pydantic model at provided path in relation to the root model.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>model</code></b>
              (<code><span title="pydantic._internal._model_construction.ModelMetaclass">ModelMetaclass</span></code>)
          â€“
          <div class="doc-md-description">
            <p>Pydantic model to mount.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>path</code></b>
              (<code><span title="typing.Union">Union</span>[str, list[str]]</code>)
          â€“
          <div class="doc-md-description">
            <p>List of path segments to mount the model.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>description</code></b>
              (<code>str</code>, default:
                  <code>None</code>
)
          â€“
          <div class="doc-md-description">
            <p>Description of the model.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>default</code></b>
          â€“
          <div class="doc-md-description">
            <p>Default value for the model.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>kwargs</code></b>
              (<code>dict</code>, default:
                  <code>{}</code>
)
          â€“
          <div class="doc-md-description">
            <p>Additional keyword arguments for the FieldInfo.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>picle\picle.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">model_mount</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">ModelMetaclass</span><span class="p">,</span>
    <span class="n">path</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Method to mount pydantic model at provided path in relation to the root model.</span>

<span class="sd">    :param model: Pydantic model to mount.</span>
<span class="sd">    :param path: List of path segments to mount the model.</span>
<span class="sd">    :param description: Description of the model.</span>
<span class="sd">    :param default: Default value for the model.</span>
<span class="sd">    :param kwargs: Additional keyword arguments for the FieldInfo.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="p">[</span><span class="n">path</span><span class="o">.</span><span class="n">strip</span><span class="p">()]</span>
    <span class="n">parent_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span>
    <span class="k">while</span> <span class="n">path</span><span class="p">:</span>
        <span class="n">mount_name</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">mount_name</span> <span class="ow">in</span> <span class="n">parent_model</span><span class="o">.</span><span class="n">model_fields</span><span class="p">:</span>
            <span class="n">parent_model</span> <span class="o">=</span> <span class="n">parent_model</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span><span class="n">mount_name</span><span class="p">]</span><span class="o">.</span><span class="n">annotation</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># handle when not all path items before last one are in models tree</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">mount_name</span><span class="si">}</span><span class="s2">&#39; not part of &#39;</span><span class="si">{</span><span class="n">parent_model</span><span class="si">}</span><span class="s2">&#39; model fields, but remaining path still not empty - </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
            <span class="n">parent_model</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span><span class="n">mount_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">FieldInfo</span><span class="p">(</span>
                <span class="n">annotation</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
                <span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
                <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span>
                <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">break</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="picle.App.model_remove" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">App</span><span class="o">.</span><span class="n">model_remove</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Method to remove pydantic model at provided path in relation to the root model.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>path</code></b>
              (<code>list[str]</code>)
          â€“
          <div class="doc-md-description">
            <p>List of path segments to remove the model.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>picle\picle.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">model_remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Method to remove pydantic model at provided path in relation to the root model.</span>

<span class="sd">    :param path: List of path segments to remove the model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="p">[</span><span class="n">path</span><span class="o">.</span><span class="n">strip</span><span class="p">()]</span>
    <span class="n">parent_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span>
    <span class="k">while</span> <span class="n">path</span><span class="p">:</span>
        <span class="n">mount_name</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">mount_name</span> <span class="ow">in</span> <span class="n">parent_model</span><span class="o">.</span><span class="n">model_fields</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">parent_model</span> <span class="o">=</span> <span class="n">parent_model</span><span class="o">.</span><span class="n">model_fields</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">mount_name</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">parent_model</span> <span class="o">=</span> <span class="n">parent_model</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span><span class="n">mount_name</span><span class="p">]</span><span class="o">.</span><span class="n">annotation</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Failed to remove model at path &#39;</span><span class="si">{</span><span class="n">mount_name</span><span class="si">}</span><span class="s2">&#39;, parent model: &#39;</span><span class="si">{</span><span class="n">parent_model</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
            <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="picle.App.parse_command" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">App</span><span class="o">.</span><span class="n">parse_command</span><span class="p">(</span><span class="n">command</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">collect_multiline</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">is_help</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Function to parse command string and construct list of model
references and fields values.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>command</code></b>
              (<code>str</code>)
          â€“
          <div class="doc-md-description">
            <p>command string to parse through</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>is_help</code></b>
              (<code>bool</code>, default:
                  <code>False</code>
)
          â€“
          <div class="doc-md-description">
            <p>indicates that parsing help command or tab completion command, if set to True disables <code>presence</code> argument handling for last field</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>collect_multiline</code></b>
              (<code>bool</code>, default:
                  <code>False</code>
)
          â€“
          <div class="doc-md-description">
            <p>enables multiple input collection for fields</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>list</code>
          â€“
          <div class="doc-md-description">
            <p>returns a list of lists of dictionaries with collected models details each dictionary containing <code>model</code>, <code>fields</code> and <code>parameter</code> keys.</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>picle\picle.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse_command</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">collect_multiline</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">is_help</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function to parse command string and construct list of model</span>
<span class="sd">    references and fields values.</span>

<span class="sd">    :param command: command string to parse through</span>
<span class="sd">    :param is_help: indicates that parsing help command or tab completion command,</span>
<span class="sd">        if set to True disables ``presence`` argument handling for last field</span>
<span class="sd">    :param collect_multiline: enables multiple input collection for fields</span>
<span class="sd">    :return: returns a list of lists of dictionaries with collected models details</span>
<span class="sd">        each dictionary containing ``model``, ``fields`` and ``parameter`` keys.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">current_model</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="p">,</span>
        <span class="s2">&quot;fields&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">&quot;parameter&quot;</span><span class="p">:</span> <span class="o">...</span><span class="p">,</span>
        <span class="s2">&quot;defaults&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">extract_model_defaults</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">shell</span><span class="p">),</span>
    <span class="p">}</span>
    <span class="n">current_field</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">models</span> <span class="o">=</span> <span class="p">[</span><span class="n">current_model</span><span class="p">]</span>
    <span class="n">parameters</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">command</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span><span class="o">.</span><span class="n">strip</span><span class="p">()]</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="p">[</span><span class="n">models</span><span class="p">]</span>

    <span class="c1"># iterate over command parameters and decide if its a reference</span>
    <span class="c1"># to a model or model&#39;s field value</span>
    <span class="k">while</span> <span class="n">parameters</span><span class="p">:</span>
        <span class="n">parameter</span> <span class="o">=</span> <span class="n">parameters</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="c1"># handle pipe - &quot;|&quot;</span>
        <span class="k">if</span> <span class="n">parameter</span> <span class="o">==</span> <span class="s2">&quot;|&quot;</span><span class="p">:</span>
            <span class="c1"># check if current model has pipe defined</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">current_model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">],</span> <span class="s2">&quot;PicleConfig&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">getattr</span><span class="p">(</span>
                <span class="n">current_model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">PicleConfig</span><span class="p">,</span> <span class="s2">&quot;pipe&quot;</span><span class="p">,</span> <span class="kc">None</span>
            <span class="p">):</span>
                <span class="k">if</span> <span class="n">current_model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">PicleConfig</span><span class="o">.</span><span class="n">pipe</span> <span class="o">==</span> <span class="s2">&quot;self&quot;</span><span class="p">:</span>
                    <span class="c1"># reference pipe model to current model</span>
                    <span class="n">current_model</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="n">current_model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">],</span>
                        <span class="s2">&quot;fields&quot;</span><span class="p">:</span> <span class="p">[],</span>
                        <span class="s2">&quot;parameter&quot;</span><span class="p">:</span> <span class="n">parameter</span><span class="p">,</span>
                    <span class="p">}</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># goto pipe model</span>
                    <span class="n">current_model</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="n">current_model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">PicleConfig</span><span class="o">.</span><span class="n">pipe</span><span class="p">,</span>
                        <span class="s2">&quot;fields&quot;</span><span class="p">:</span> <span class="p">[],</span>
                        <span class="s2">&quot;parameter&quot;</span><span class="p">:</span> <span class="n">parameter</span><span class="p">,</span>
                    <span class="p">}</span>
                <span class="n">models</span> <span class="o">=</span> <span class="p">[</span><span class="n">current_model</span><span class="p">]</span>
                <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">models</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">current_model</span><span class="p">[</span><span class="s1">&#39;model&#39;</span><span class="p">]</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39; does not support pipe handling&quot;</span>
                <span class="p">)</span>
                <span class="k">break</span>
        <span class="c1"># collect json dictionary string</span>
        <span class="k">elif</span> <span class="n">parameter</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;{&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">current_field</span><span class="p">:</span>
            <span class="n">value_items</span> <span class="o">=</span> <span class="p">[</span><span class="n">parameter</span><span class="p">]</span>
            <span class="c1"># collect further values</span>
            <span class="k">while</span> <span class="n">parameters</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="n">parameters</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="n">value_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">parameter</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;}&quot;</span><span class="p">):</span>
                    <span class="k">break</span>
            <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">value_items</span><span class="p">)</span>  <span class="c1"># form value string</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_save_collected_value</span><span class="p">(</span><span class="n">current_field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="c1"># collect json list string</span>
        <span class="k">elif</span> <span class="n">parameter</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">current_field</span><span class="p">:</span>
            <span class="n">value_items</span> <span class="o">=</span> <span class="p">[</span><span class="n">parameter</span><span class="p">]</span>
            <span class="c1"># collect further values</span>
            <span class="k">while</span> <span class="n">parameters</span><span class="p">:</span>
                <span class="n">parameter</span> <span class="o">=</span> <span class="n">parameters</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="n">value_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">parameter</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;]&quot;</span><span class="p">):</span>
                    <span class="k">break</span>
            <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">value_items</span><span class="p">)</span>  <span class="c1"># form value string</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_save_collected_value</span><span class="p">(</span><span class="n">current_field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="c1"># collect double quoted field value</span>
        <span class="k">elif</span> <span class="s1">&#39;&quot;&#39;</span> <span class="ow">in</span> <span class="n">parameter</span> <span class="ow">and</span> <span class="n">current_field</span><span class="p">:</span>
            <span class="n">value_items</span> <span class="o">=</span> <span class="p">[</span><span class="n">parameter</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)]</span>
            <span class="c1"># collect further values if first parameter not double quoted value e.g. &quot;nrp1&quot;</span>
            <span class="k">if</span> <span class="n">parameter</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">while</span> <span class="n">parameters</span><span class="p">:</span>
                    <span class="n">parameter</span> <span class="o">=</span> <span class="n">parameters</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                    <span class="n">value_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parameter</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
                    <span class="k">if</span> <span class="s1">&#39;&quot;&#39;</span> <span class="ow">in</span> <span class="n">parameter</span><span class="p">:</span>
                        <span class="k">break</span>
            <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">value_items</span><span class="p">)</span>  <span class="c1"># form value string</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_save_collected_value</span><span class="p">(</span><span class="n">current_field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="c1"># collect single quoted field value</span>
        <span class="k">elif</span> <span class="s2">&quot;&#39;&quot;</span> <span class="ow">in</span> <span class="n">parameter</span> <span class="ow">and</span> <span class="n">current_field</span><span class="p">:</span>
            <span class="n">value_items</span> <span class="o">=</span> <span class="p">[</span><span class="n">parameter</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)]</span>
            <span class="c1"># collect further values if first parameter not double quoted value e.g. &#39;nrp1&#39;</span>
            <span class="k">if</span> <span class="n">parameter</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">while</span> <span class="n">parameters</span><span class="p">:</span>
                    <span class="n">parameter</span> <span class="o">=</span> <span class="n">parameters</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                    <span class="n">value_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parameter</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
                    <span class="k">if</span> <span class="s2">&quot;&#39;&quot;</span> <span class="ow">in</span> <span class="n">parameter</span><span class="p">:</span>
                        <span class="k">break</span>
            <span class="n">value</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">value_items</span><span class="p">)</span>  <span class="c1"># form value string</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_save_collected_value</span><span class="p">(</span><span class="n">current_field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="c1"># handle reference to model</span>
        <span class="k">elif</span> <span class="n">current_model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">model_fields</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">any</span><span class="p">(</span>
            <span class="n">parameter</span> <span class="o">==</span> <span class="n">f</span><span class="o">.</span><span class="n">alias</span>
            <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">current_model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">model_fields</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
        <span class="p">):</span>
            <span class="c1"># source field by name</span>
            <span class="k">if</span> <span class="n">current_model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">model_fields</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">parameter</span><span class="p">):</span>
                <span class="n">field</span> <span class="o">=</span> <span class="n">current_model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span><span class="n">parameter</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># source field by alias</span>
                <span class="k">for</span> <span class="n">f_name</span><span class="p">,</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">current_model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">model_fields</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">parameter</span> <span class="o">==</span> <span class="n">field</span><span class="o">.</span><span class="n">alias</span><span class="p">:</span>
                        <span class="n">parameter</span> <span class="o">=</span> <span class="n">f_name</span>  <span class="c1"># use actual field name</span>
                        <span class="k">break</span>
            <span class="c1"># handle next level model reference</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">annotation</span><span class="p">,</span> <span class="n">ModelMetaclass</span><span class="p">):</span>
                <span class="c1"># check need to record field presence before going to next model</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="n">current_field</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;values&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="o">...</span>
                    <span class="ow">and</span> <span class="n">current_field</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">json_schema_extra</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                    <span class="ow">and</span> <span class="s2">&quot;presence&quot;</span> <span class="ow">in</span> <span class="n">current_field</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">json_schema_extra</span>
                <span class="p">):</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="n">current_field</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">json_schema_extra</span><span class="p">[</span><span class="s2">&quot;presence&quot;</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_save_collected_value</span><span class="p">(</span><span class="n">current_field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
                <span class="c1"># goto next model</span>
                <span class="n">current_model</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="n">field</span><span class="o">.</span><span class="n">annotation</span><span class="p">,</span>
                    <span class="s2">&quot;fields&quot;</span><span class="p">:</span> <span class="p">[],</span>
                    <span class="s2">&quot;parameter&quot;</span><span class="p">:</span> <span class="n">parameter</span><span class="p">,</span>
                <span class="p">}</span>
                <span class="n">models</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">current_model</span><span class="p">)</span>
                <span class="n">current_field</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># empty current field</span>
                <span class="c1"># extract first command default values from current model</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">current_model</span><span class="p">[</span><span class="s2">&quot;defaults&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extract_model_defaults</span><span class="p">(</span>
                        <span class="n">field</span><span class="o">.</span><span class="n">annotation</span>
                    <span class="p">)</span>
            <span class="c1"># handle actual field reference</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">FieldInfo</span><span class="p">):</span>
                <span class="c1"># check need to record field presence before going to next field</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="n">current_field</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;values&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="o">...</span>
                    <span class="ow">and</span> <span class="n">current_field</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">json_schema_extra</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                    <span class="ow">and</span> <span class="s2">&quot;presence&quot;</span> <span class="ow">in</span> <span class="n">current_field</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">json_schema_extra</span>
                <span class="p">):</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="n">current_field</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">json_schema_extra</span><span class="p">[</span><span class="s2">&quot;presence&quot;</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_save_collected_value</span><span class="p">(</span><span class="n">current_field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
                <span class="c1"># goto next field</span>
                <span class="n">current_field</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">parameter</span><span class="p">,</span> <span class="s2">&quot;values&quot;</span><span class="p">:</span> <span class="o">...</span><span class="p">,</span> <span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="n">field</span><span class="p">}</span>
                <span class="c1"># find and replace default value if present</span>
                <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">field</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">current_model</span><span class="p">[</span><span class="s2">&quot;fields&quot;</span><span class="p">]):</span>
                    <span class="k">if</span> <span class="n">field</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">current_field</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]:</span>
                        <span class="n">current_model</span><span class="p">[</span><span class="s2">&quot;fields&quot;</span><span class="p">][</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">current_field</span>
                        <span class="k">break</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">current_model</span><span class="p">[</span><span class="s2">&quot;fields&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">current_field</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Unsupported pydantic field type: &#39;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">annotation</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;parameter: &#39;</span><span class="si">{</span><span class="n">parameter</span><span class="si">}</span><span class="s2">&#39;, command: &#39;</span><span class="si">{</span><span class="n">command</span><span class="si">}</span><span class="s2">&#39;, current model: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">current_model</span><span class="p">[</span><span class="s1">&#39;model&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39;&quot;</span>
                <span class="p">)</span>
        <span class="c1"># check if parameter value partially matches any of the model fields</span>
        <span class="k">elif</span> <span class="nb">any</span><span class="p">(</span>
            <span class="n">field_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">field_name</span> <span class="ow">in</span> <span class="n">current_model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">model_fields</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="n">FieldLooseMatchOnly</span><span class="p">(</span><span class="n">current_model</span><span class="p">,</span> <span class="n">parameter</span><span class="p">)</span>
        <span class="c1"># check if parameter value partially matches any of the model fields&#39; aliases</span>
        <span class="k">elif</span> <span class="nb">any</span><span class="p">(</span>
            <span class="n">field</span><span class="o">.</span><span class="n">alias</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">parameter</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">current_model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">model_fields</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">alias</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="n">FieldLooseMatchOnly</span><span class="p">(</span><span class="n">current_model</span><span class="p">,</span> <span class="n">parameter</span><span class="p">)</span>
        <span class="c1"># parameter is a value, save it to current model</span>
        <span class="k">elif</span> <span class="n">current_field</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_save_collected_value</span><span class="p">(</span><span class="n">current_field</span><span class="p">,</span> <span class="n">parameter</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">FieldKeyError</span><span class="p">(</span><span class="n">current_model</span><span class="p">,</span> <span class="n">parameter</span><span class="p">)</span>
    <span class="c1"># check presence for last parameter is not is_help</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="n">is_help</span> <span class="ow">is</span> <span class="kc">False</span>
        <span class="ow">and</span> <span class="n">current_field</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;values&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="o">...</span>
        <span class="ow">and</span> <span class="n">current_field</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">json_schema_extra</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="ow">and</span> <span class="s2">&quot;presence&quot;</span> <span class="ow">in</span> <span class="n">current_field</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">json_schema_extra</span>
    <span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">current_field</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">json_schema_extra</span><span class="p">[</span><span class="s2">&quot;presence&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_save_collected_value</span><span class="p">(</span><span class="n">current_field</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="c1"># iterate over collected models and fields to see</span>
    <span class="c1"># if need to collect multi-line input</span>
    <span class="k">if</span> <span class="n">collect_multiline</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">command_models</span> <span class="ow">in</span> <span class="n">ret</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">command_models</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;fields&quot;</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_collect_multiline</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">ret</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="picle.App.print_model_help" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">App</span><span class="o">.</span><span class="n">print_model_help</span><span class="p">(</span><span class="n">models</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">match</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">print_help</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Function to form and print help message for model fields.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>match</code></b>
              (<code>str</code>, default:
                  <code>None</code>
)
          â€“
          <div class="doc-md-description">
            <p>only collect help for fields that start with <code>match</code> string</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>print_help</code></b>
              (<code>bool</code>, default:
                  <code>True</code>
)
          â€“
          <div class="doc-md-description">
            <p>if true prints help, return tuple of help lines list and width of longest line</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>picle\picle.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">print_model_help</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">models</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">match</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">print_help</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function to form and print help message for model fields.</span>

<span class="sd">    :param match: only collect help for fields that start with ``match`` string</span>
<span class="sd">    :param print_help: if true prints help, return tuple of help lines</span>
<span class="sd">        list and width of longest line</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># get last model</span>
    <span class="n">last_field</span> <span class="o">=</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;fields&quot;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;fields&quot;</span><span class="p">]</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="n">fparam</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_field_params</span><span class="p">(</span><span class="n">last_field</span><span class="p">)</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># dict of {cmd: cmd_help}</span>
    <span class="n">width</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># record longest command width for padding</span>
    <span class="c1"># print help message only for last collected field</span>
    <span class="k">if</span> <span class="n">last_field</span> <span class="ow">and</span> <span class="n">last_field</span><span class="p">[</span><span class="s2">&quot;values&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="o">...</span><span class="p">:</span>
        <span class="n">field</span> <span class="o">=</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span><span class="n">last_field</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]]</span>
        <span class="n">json_schema_extra</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="s2">&quot;json_schema_extra&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>
        <span class="n">name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&lt;&#39;</span><span class="si">{</span><span class="n">last_field</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39; value&gt;&quot;</span>
        <span class="c1"># check if field is callable</span>
        <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">annotation</span> <span class="ow">is</span> <span class="n">Callable</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;&lt;ENTER&gt;&quot;</span>
            <span class="n">lines</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Execute command&quot;</span>
            <span class="n">width</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
        <span class="c1"># check if field referencing function</span>
        <span class="k">elif</span> <span class="n">json_schema_extra</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;function&quot;</span><span class="p">):</span>
            <span class="n">lines</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">field</span><span class="o">.</span><span class="n">description</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;&lt;ENTER&gt;&quot;</span>
            <span class="n">lines</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Execute command&quot;</span>
            <span class="n">width</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
        <span class="c1"># add options for enumerations</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">annotation</span><span class="p">,</span> <span class="n">enum</span><span class="o">.</span><span class="n">EnumMeta</span><span class="p">):</span>
            <span class="n">options</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">field</span><span class="o">.</span><span class="n">annotation</span><span class="p">]</span>
            <span class="n">lines</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>
        <span class="c1"># check if model has method to source field choices</span>
        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">],</span> <span class="sa">f</span><span class="s2">&quot;source_</span><span class="si">{</span><span class="n">last_field</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
            <span class="n">options</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">],</span> <span class="sa">f</span><span class="s2">&quot;source_</span><span class="si">{</span><span class="n">last_field</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)()</span>
            <span class="n">lines</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">lines</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">field</span><span class="o">.</span><span class="n">description</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="c1"># check if field supports multiline input</span>
            <span class="k">if</span> <span class="n">fparam</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;multiline&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                <span class="n">lines</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Collect value using multi line input mode&quot;</span>
            <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
                <span class="n">lines</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;; default &#39;</span><span class="si">{</span><span class="n">field</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span><span class="si">}</span><span class="s2">&#39;, type &#39;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">annotation</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;is required - </span><span class="si">{</span><span class="n">field</span><span class="o">.</span><span class="n">is_required</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
    <span class="c1"># collect help message for all fields of this model</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># check if model supports subshell</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="nb">hasattr</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">],</span> <span class="s2">&quot;PicleConfig&quot;</span><span class="p">)</span>
            <span class="ow">and</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">PicleConfig</span><span class="p">,</span> <span class="s2">&quot;subshell&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">True</span>
            <span class="c1"># exclude &lt;ENTER&gt; if already in model&#39;s shell</span>
            <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">shells</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span>
        <span class="p">):</span>
            <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;&lt;ENTER&gt;&quot;</span>
            <span class="n">lines</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Enter command subshell&quot;</span>
            <span class="n">width</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
        <span class="c1"># iterate over model fields</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">model_fields</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># skip fields that already have values</span>
            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">name</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">model</span><span class="p">[</span><span class="s2">&quot;fields&quot;</span><span class="p">]):</span>
                <span class="k">continue</span>
            <span class="c1"># check if field has alias</span>
            <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">alias</span><span class="p">:</span>
                <span class="n">name</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">alias</span>
            <span class="c1"># filter fields</span>
            <span class="k">if</span> <span class="n">match</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">match</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="n">lines</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">field</span><span class="o">.</span><span class="n">description</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
                <span class="n">lines</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;; default &#39;</span><span class="si">{</span><span class="n">field</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span><span class="si">}</span><span class="s2">&#39;, type &#39;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">annotation</span><span class="p">)</span><span class="si">}</span><span class="s2">&#39;, &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;is required - </span><span class="si">{</span><span class="n">field</span><span class="o">.</span><span class="n">is_required</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
            <span class="n">width</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
    <span class="c1"># check if model has pipe defined</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">],</span> <span class="s2">&quot;PicleConfig&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">getattr</span><span class="p">(</span>
        <span class="n">model</span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">PicleConfig</span><span class="p">,</span> <span class="s2">&quot;pipe&quot;</span><span class="p">,</span> <span class="kc">None</span>
    <span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;|&quot;</span>
        <span class="n">lines</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Execute pipe command&quot;</span>
        <span class="n">width</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
    <span class="n">width</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
    <span class="c1"># form help lines</span>
    <span class="n">help_msg</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">lines</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
        <span class="n">padding</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="p">(</span><span class="n">width</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">k</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">help_msg</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">k</span><span class="si">}{</span><span class="n">padding</span><span class="si">}{</span><span class="n">lines</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">print_help</span><span class="p">:</span>  <span class="c1"># print help message</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">newline</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">help_msg</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">help_msg</span><span class="p">,</span> <span class="n">width</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="picle.App.write" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">App</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

</h4>


    <div class="doc doc-contents ">

        <p>Method to write output to stdout</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>text</code></b>
              (<code>str</code>)
          â€“
          <div class="doc-md-description">
            <p>text output</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>picle\picle.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Method to write output to stdout</span>

<span class="sd">    :param text: text output</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">text</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">newline</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">text</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">newline</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h2 id="picle-build-in-models">PICLE Build In Models</h2>


<div class="doc doc-object doc-class">



<h3 id="picle.models.Filters" class="doc doc-heading">
            <code>picle.models.Filters</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="picle.models.Filters.filter_exclude" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Filters</span><span class="o">.</span><span class="n">filter_exclude</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">exclude</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Filter data line by line using provided pattern. Returns
only lines that does not contains requested <code>exclude</code> pattern.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>data</code></b>
              (<code><span title="typing.Any">Any</span></code>)
          â€“
          <div class="doc-md-description">
            <p>data to filter</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>exclude</code></b>
              (<code><span title="typing.Any">Any</span></code>, default:
                  <code>None</code>
)
          â€“
          <div class="doc-md-description">
            <p>pattern to filter data</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>picle\models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">filter_exclude</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">exclude</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Filter data line by line using provided pattern. Returns</span>
<span class="sd">    only lines that does not contains requested ``exclude`` pattern.</span>

<span class="sd">    :param data: data to filter</span>
<span class="sd">    :param exclude: pattern to filter data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">exclude</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">exclude</span><span class="p">)</span>
    <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="p">[</span><span class="n">line</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span> <span class="k">if</span> <span class="n">exclude</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">line</span><span class="p">]</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="picle.models.Filters.filter_include" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Filters</span><span class="o">.</span><span class="n">filter_include</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">include</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Filter data line by line using provided pattern. Returns
only lines that contains requested <code>include</code> pattern.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>data</code></b>
              (<code><span title="typing.Any">Any</span></code>)
          â€“
          <div class="doc-md-description">
            <p>data to filter</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>include</code></b>
              (<code><span title="typing.Any">Any</span></code>, default:
                  <code>None</code>
)
          â€“
          <div class="doc-md-description">
            <p>pattern to filter data</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>picle\models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">filter_include</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">include</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Filter data line by line using provided pattern. Returns</span>
<span class="sd">    only lines that contains requested ``include`` pattern.</span>

<span class="sd">    :param data: data to filter</span>
<span class="sd">    :param include: pattern to filter data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">include</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">include</span><span class="p">)</span>
    <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">line</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span> <span class="k">if</span> <span class="n">include</span> <span class="ow">in</span> <span class="n">line</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="picle.models.Formatters" class="doc doc-heading">
            <code>picle.models.Formatters</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="picle.models.Formatters.formatter_json" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Formatters</span><span class="o">.</span><span class="n">formatter_json</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Function to transform results into JSON string</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>data</code></b>
              (<code><span title="typing.Any">Any</span></code>)
          â€“
          <div class="doc-md-description">
            <p>any data to convert</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>picle\models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">formatter_json</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function to transform results into JSON string</span>

<span class="sd">    :param data: any data to convert</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="picle.models.Formatters.formatter_kv" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Formatters</span><span class="o">.</span><span class="n">formatter_kv</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Function to format dictionary result as a key: value output</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>data</code></b>
              (<code>dict</code>)
          â€“
          <div class="doc-md-description">
            <p>dictionary to format</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>picle\models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">formatter_kv</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function to format dictionary result as a key: value output</span>

<span class="sd">    :param data: dictionary to format</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="picle.models.Formatters.formatter_pprint" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Formatters</span><span class="o">.</span><span class="n">formatter_pprint</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Function to pretty print results using python <code>pprint</code> module</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>data</code></b>
              (<code><span title="typing.Any">Any</span></code>)
          â€“
          <div class="doc-md-description">
            <p>any data to pretty print</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>picle\models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">formatter_pprint</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function to pretty print results using python ``pprint`` module</span>

<span class="sd">    :param data: any data to pretty print</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">pprint</span><span class="o">.</span><span class="n">pformat</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="picle.models.Formatters.formatter_yaml" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Formatters</span><span class="o">.</span><span class="n">formatter_yaml</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Function to transform results into YAML string</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>data</code></b>
              (<code><span title="typing.Any">Any</span></code>)
          â€“
          <div class="doc-md-description">
            <p>any data to convert</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>picle\models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">formatter_yaml</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function to transform results into YAML string</span>

<span class="sd">    :param data: any data to convert</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">HAS_YAML</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">yaml_dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">default_flow_style</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">data</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="picle.models.Outputters" class="doc doc-heading">
            <code>picle.models.Outputters</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="picle.models.Outputters.outputter_rich_json" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Outputters</span><span class="o">.</span><span class="n">outputter_rich_json</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="nb">list</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Function to pretty print JSON string using Rich library</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>data</code></b>
              (<code><span title="typing.Union">Union</span>[dict, list]</code>)
          â€“
          <div class="doc-md-description">
            <p>any data to print</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>picle\models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">outputter_rich_json</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="nb">list</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function to pretty print JSON string using Rich library</span>

<span class="sd">    :param data: any data to print</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="c1"># data should be a json string</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">HAS_RICH</span><span class="p">:</span>
            <span class="n">RICHCONSOLE</span><span class="o">.</span><span class="n">print_json</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ERROR: Data is not a valid JSON string:</span><span class="se">\n</span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">Error: &#39;</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="picle.models.Outputters.outputter_rich_print" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Outputters</span><span class="o">.</span><span class="n">outputter_rich_print</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Function to pretty print output using Rich library</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>data</code></b>
              (<code><span title="typing.Any">Any</span></code>)
          â€“
          <div class="doc-md-description">
            <p>any data to print</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>picle\models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">outputter_rich_print</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function to pretty print output using Rich library</span>

<span class="sd">    :param data: any data to print</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">HAS_RICH</span><span class="p">:</span>
        <span class="n">RICHCONSOLE</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="picle.models.Outputters.outputter_rich_table" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Outputters</span><span class="o">.</span><span class="n">outputter_rich_table</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">],</span> <span class="n">headers</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">sortby</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Function to pretty print output in table format using Rich library</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>data</code></b>
              (<code>list[dict]</code>)
          â€“
          <div class="doc-md-description">
            <p>list of dictionaries to print</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>picle\models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">outputter_rich_table</span><span class="p">(</span>
    <span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">],</span> <span class="n">headers</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">sortby</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function to pretty print output in table format using Rich library</span>

<span class="sd">    :param data: list of dictionaries to print</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">HAS_RICH</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span> <span class="ow">or</span> <span class="nb">list</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="n">table</span> <span class="o">=</span> <span class="n">RICHTABLE</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="c1"># add table columns</span>
    <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">headers</span><span class="p">:</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">no_wrap</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># sort the table</span>
    <span class="k">if</span> <span class="n">sortby</span><span class="p">:</span>
        <span class="c1"># form dictionary keyed by sortby value and index</span>
        <span class="n">items_to_sortby</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="p">[</span><span class="n">sortby</span><span class="p">]:</span> <span class="n">index</span> <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">)}</span>
        <span class="c1"># form a list of sorted sortby values</span>
        <span class="n">sorted_keys</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">items_to_sortby</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="c1"># for sorted data list</span>
        <span class="n">sorted_data</span> <span class="o">=</span> <span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="n">items_to_sortby</span><span class="p">[</span><span class="n">key</span><span class="p">]]</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">sorted_keys</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">sorted_data</span> <span class="o">=</span> <span class="n">data</span>

    <span class="c1"># add table rows</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">sorted_data</span><span class="p">:</span>
        <span class="n">cells</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">headers</span><span class="p">]</span>
        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span><span class="o">*</span><span class="n">cells</span><span class="p">)</span>

    <span class="n">RICHCONSOLE</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="picle.models.PipeFunctionsModel" class="doc doc-heading">
            <code>picle.models.PipeFunctionsModel</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="picle.models.Filters" href="#picle.models.Filters">Filters</a></code>, <code><a class="autorefs autorefs-internal" title="picle.models.Formatters" href="#picle.models.Formatters">Formatters</a></code>, <code><a class="autorefs autorefs-internal" title="picle.models.Outputters" href="#picle.models.Outputters">Outputters</a></code></p>


        <p>Collection of common pipe functions to use in PICLE shell models</p>









  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="picle.models.MAN" class="doc doc-heading">
            <code>picle.models.MAN</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Model with manual/documentation related functions</p>









  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="picle.models.MAN.print_model_tree" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">picle</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">MAN</span><span class="o">.</span><span class="n">print_model_tree</span><span class="p">(</span><span class="n">root_model</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

        <p>Method to print model tree for shell model specified by dot separated path e.g. model.shell.command</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>root_model</code></b>
          â€“
          <div class="doc-md-description">
            <p>PICLE App root model to print tree for</p>
          </div>
        </li>
    </ul>

            <details class="quote">
              <summary>Source code in <code>picle\models.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">print_model_tree</span><span class="p">(</span><span class="n">root_model</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Method to print model tree for shell model specified by dot separated path e.g. model.shell.command</span>

<span class="sd">    :param root_model: PICLE App root model to print tree for</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;tree&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;tree&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="p">[]</span>
    <span class="n">rich_tree</span> <span class="o">=</span> <span class="n">RICHTREE</span><span class="p">(</span><span class="s2">&quot;[bold]root[/bold]&quot;</span><span class="p">)</span>
    <span class="n">RICHCONSOLE</span><span class="o">.</span><span class="n">print</span><span class="p">(</span>
        <span class="n">MAN</span><span class="o">.</span><span class="n">_construct_model_tree</span><span class="p">(</span>
            <span class="n">model</span><span class="o">=</span><span class="n">root_model</span><span class="o">.</span><span class="n">model_construct</span><span class="p">(),</span> <span class="n">tree</span><span class="o">=</span><span class="n">rich_tree</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">path</span>
        <span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/dmulyalin" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/DMulyalin" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.top", "toc.follow"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
    
  </body>
</html>